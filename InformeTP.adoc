= Base de Datos: Trabajo Práctico 1
Martin Sosa <@gmail.com>; Maxi Schmidt <@gmail.com>; Martin Zavalla <martin.zav99@gmail.com>
v1, {docdate}. Docentes Hernán Czemerinski y Hernán Rondelli (COM-01)
:title-page:
:numbered:
:source-highlighter: coderay
:tabsize: 4


== Introducción

En este trabajo se realizará una base de datos en postgreSQL mediante Go, 
donde se representa un modelo de datos que se usa para almacenar
informacion relativa a clientes de tarjetas de credito, donde se destacan los detalles
de compra, total de gastos, infomación del comercio y el producto, rechazos
o alertas e incluso, información sobre la propia tarjeta y su propietario.

El objetivo del programa es que reconozca y actúa ante situaciones tales como 
autorización de compra, generar resumenes o alertar a los clientes de posibles
problemas. Para ello, se deberá previamente crear una base de datos respetando 
las propiedades de cada tabla , e instanciar datos competentes.

Además, como usuario tendrá la posibilidad de crear la base de datos manualmente
y ver el paso a paso de su proceso o la opcion de que se realice todo automanicamente.
Una de estas es borrar todas las identifiaciones primareas y foraneas (PK's y FK's) que
solo se puede realizar mediente la opcion manual.
 


== Descripción

El programa inicia mostrando un menú princpipal de bienvenida (CLI) para un manejo
más ordenado con la base de datos. Donde se podra elegir entre crearla y cargarla
con toda la informacion necesaria automaticamente o hacerlo manualmente. Tambien
se le agrega una tercer opcion que es para realizar pruebas de funcionamiento.
Por ultimo , se encuentra la opcion de salir.


Modelo de menu principal

		[ 1 ] Crear Base tpgossz (Auto)
		[ 2 ] Crear Base tpgossz (Manual)
		[ 3 ] test

		[ 0 ] Salir

		
la primera opción es la encargada de crear la base de datos completa 
con tablas, PK's, FK's, clientes,negocios y funciones. 

Entre las funciones se encuentran :

Autorizacion de compra , donde se verifica la existencia de una tarjeta 
mediante su numero y codigo de seguridad, el estado de vigencia y su limite
de compra. Asi ,saber si validar la compra o generar un rechazo para luego
cargar la informacion en su respectiva tabla dependiendo del resultado.

Generar resumen, en la cual se devuelve la informacion detallada de un cliente
y el total de gastos junto a infomacion sobre todas sus compras realizadas en
un periodo especifico.

Generar alertas, que posee una logica para generar alertas por fraudes.
Esta debe ejecutarse cada cierto tiempo de forma automatica , donde las
alertas a detectar se basan en la compra de productos en diferentes comercios
dentro de un rango de tiempo dependiendo de si sucede en locales el igual o
distinto codigo postal. Luego, se guardan los datos en su respectiva tabla con
un codigo identificador para saber que tipo de alerta se produjo.

La segunda opcion muestra un menu secundario con las opciones para realizar 
la posibilidad de eliminar la base de datos creada, crearla manualmente, 
conectarse, crear las tablas requeridas para el funcionamiento , agregar y 
elminar todas las Pk's y Fk's, completar la base de datos con información de 
clientes y de comercios,agregar funciones ,y por último, salir o desconectarse.


/*

Modelo de menu secundario

(cambiar)


1. Crear Base tpgossz (Automáticamente con tablas, PK's, FK's, clientes y negocios)
2. Eliminar Base tpgossz
3. Crear Base tpgossz
4. Conectar con Base tpgossz
5. Crear tablas (Crea todas las tablas requeridas)
6. Agregar PKs y FKs
7. Popular Base de datos (Instancia de Datos: agrega clientes y negocios)
8. Remover PKs y FKs
9. Salir (Cierra la conexión con la base de datos y finaliza el programa)

/*


Cada vez que el usuario elija una opción la funcion se ejecutará y hará un seguimiento
con impresiones por pantalla para indicar su estado y correcto funcionamiento. 

Por ultimo ,en caso de no elegir la opcion de salida, al finalizar las elecciones,
aparecera el menu para su proximo tarea.
    

=== Dificultades y Procedimientos

_parte1_

Para empezar a modelar la base de datos decidimos utilizar el programa *lucidchart*
debido a que nos permitio de forma mas comoda organizar y ordenar las relaciones
entre las entidades. 

.diagrama_base 
image::diagrama_base.jpg[]


_parte2_

Para agregar las Pk's y Fk's se utilizo el formato dado en clases (ver en implementacion).
En este caso, se realizo una funcion para agregar las pks y fks en sus respectivas
tablas y otra para borrarlas.
Resaltamos que, debido al diagrama hecho previamente ayudo de buena manera para 
visualizar de forma rapida las identificaciones.

_parte3_

Al momento de ingresar informacion sobre los comercios y clientes a la base 
de datos,en lugar de inventar y escribir manualmente, se obtuvo la
informacion de paginas de internet con datos publicados.
Donde algunos fueron modificados a conveniencia para usarlo a modo de prueba en
las proximas funciones a reaizar.

_parte4_



== Implementación

En esta sección se incluye el código fuente correctamente formateado—y
comentado, si corresponde.

Además, por cada fragmento de código
relevante—i.e. función, método, procedimiento—se debe dar una
breve descripción, decir qué hace, y especificar los parámetros que
toma la función/método/procedimiento, junto con los valores que devuelve
ó modifica.

_No debería incluirse el código de librerías/frameworks que se
utilicen—a no ser que sea absolutamente necesario._

== Conclusiones

Una vez realizado el proyecto aprendimos el correcto manejo de SQL en Go, el uso de Postgres y la 
administración de una base de datos relacionada con tarjetas de creditos que simula ser realista. 
La comprensión de los temas incluidos en el trabajo práctico nos hicieron cambiar drasticamente nuestra 
visión sobre los mismos, porque hasta el momento de iniciarlo, solo habías indagado en peticiones 
simples con tablas pequeñas o poco relacionadas entre sí. 

Al ir avanzando en nuestro trabajo confirmamos nuestras sospechas con respecto a los resultados obtenidos, 
logrando un programa sólido con CLI (en inglés, command-line interface) que cumpliera con todo lo 
requerido en el enunciado inicial propuesto por los docentes a cargo.

¿Qué cosas haríamos diferente si tuviéramos que repetir el proyecto y por qué? ¿Qué aspectos del mismo tuvieron debilidades y cómo podrían subsanarse a futuro?
En el caso de que tuvieramos que repetir el proyecto realizariamos pequeños cambios como: poder tener comandos 
dentro del CLI que permitiecen al usuario ingresar clientes, negocios, consumos, etc. También es verdad que al 
herramientas de trabajo nuevas para todos los integrantes fue un poco intrincado el inicio del proyecto, pero
una vez afianzado lo más básico del trabajo práctico (la conexión con el servidos, la creación de la base de datos con sus tablas respectivas y sus PK's y FK's), lo demás dluyo con mayor facilidad para nosotros.

Una vez observado el resultado del proyecto nos quedamos con ganas de implementar nuevas base de datos de mayor
complejidad o con diferentes particularidades, también de hacer modificaciones sustanciales al código presentado 
para mayor cantidad de funcionalidades a nuestro programa que creamos.
